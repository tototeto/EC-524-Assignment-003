"0","set.seed(35480384)"
"0","# Reload data"
"0","data('penguins')"
"0",""
"0","# Define Model"
"0",""
"0","mod_rf <- rand_forest("
"0","  mode = ""classification"","
"0","  mtry = tune(),"
"0","  trees = tune(),"
"0","  min_n = tune()"
"0",") %>% "
"0","  set_engine(""ranger"")"
"0",""
"0","# Define Workflow"
"0",""
"0","wkfl_rf <- workflow() %>% "
"0","  add_model(mod_rf) %>% "
"0","  add_recipe(rec_1)"
"0",""
"0","# Parameter ranges"
"0",""
"0","mtry_r = seq(from = 1, to = ncol(penguins), length.out = ncol(penguins))"
"0","trees_r = floor(10^seq(from = 0, to = 3, by = 0.5))"
"0","min_n_r = seq(from = 1, to = 10, by = 2)"
"0",""
"0","# Parellel"
"0",""
"0","tgrid_rf <- expand_grid("
"0","      mtry = mtry_r,"
"0","      trees = trees_r,"
"0","      min_n = min_n_r)"
"0",""
"0","registerDoParallel(cl)"
"0",""
"0","cv_rf <- wkfl_rf %>% "
"0","  tune_grid("
"0","    peng_cv,"
"0","    grid = tgrid_rf,"
"0","    metrics = metric_set(accuracy),"
"0","    control = control_grid(save_pred = TRUE, verbose = TRUE, parallel_over = ""everything"") # Parellel"
"0","  )"
"0",""
"0","best_rf <- show_best(cv_rf)"
"0",""
"0","fit_rf <- wkfl_rf %>% "
"0","  finalize_workflow(select_best(cv_rf, metric = 'accuracy')) %>% "
"0","  fit(data = penguins)"
"0",""
"0","cat("
"0","  ""\n------------------------------------------------\n"","
"0","  ""Tuned Parameters:\nNumber of Predictors Sampled:"","
"0","  best_rf$mtry[1] , ""\nNumber of Trees: "","
"0","  best_rf$trees[1], ""\nMinimum Data Points per Node: "", best_rf$min_n[1],"
"0","  ""\nAccuracy: "", best_rf$mean[1],"
"0","  ""\n------------------------------------------------\n"""
"0",")"
"1","
------------------------------------------------
"
"1"," "
"1","Tuned Parameters:
Number of Predictors Sampled:"
"1"," "
"1","1"
"1"," "
"1","
Number of Trees: "
"1"," "
"1","3"
"1"," "
"1","
Minimum Data Points per Node: "
"1"," "
"1","1"
"1"," "
"1","
Accuracy: "
"1"," "
"1","0.9797101"
"1"," "
"1","
------------------------------------------------
"
